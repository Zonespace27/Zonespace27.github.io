<!DOCTYPE html>
<html>
  <head>
    <title>Save Editor</title>
    <script type="text/javascript" src="js/corrusave.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lz-string"></script>
    <script type="text/javascript" src="js/includehtml.js"></script>
    <link rel="stylesheet" href="styledata.css" />
  </head>
  <body>
    <h1 style="text-align: center">corru.observer Save Editor</h1>
    <hr />
    <div include-html="heading.html"></div>
    <div id="saveinput">
      A save editor for <a href="https://corru.observer">corru.observer</a>, a
      wonderfully deep and fun browser-based game about exploring the contents
      of an alien biocomputer.
      <br />
      Use at your own risk, make a backup of your original save. Please do not
      bug corrudev about bugs pertaining to modified savefiles.
      <br />
      <br />
      <label for="savefile_input">Select your save.corru</label>
      <br />
      <input
        type="file"
        id="savefile_input"
        name="savefile_input"
        accept=".corru"
      />
      <br />
      <label for="savetext_input">Or input a full savestring</label>
      <br />
      <input type="text" id="savetext_input" name="savetext_input" size="50" />
      <button
        onclick="ParseText(document.getElementById('savetext_input').value)"
      >
        Enter
      </button>
    </div>
    <div id="savedata_topbar" style="display: none">
      <button onclick="ExportData()">Export</button>
      <button onclick="Reset()">Reset</button>
      <button
        onclick="OpenCreateKeyPopup(SaveTree, document.getElementById('savedata_display'), -1)"
      >
        Create New Entry (Base)
      </button>
    </div>
    <div id="savedata_display" style="white-space: pre-line"></div>
    <div
      style="
        position: fixed;
        bottom: 0;
        right: 0;
        padding-bottom: 10px;
        padding-right: 10px;
      "
    >
      Created by <a href="index.html">Zonespace</a>
    </div>
    <div
      style="
        position: fixed;
        left: 50%;
        transform: translate(-50%, -30%);
        top: 30%;
        padding-top: 10px;
        padding-left: 8px;
        padding-right: 8px;
        background-color: gray;
        display: none;
        border-radius: 8px;
      "
      id="createkey_popup"
    >
      <input type="text" id="keyname_input" placeholder="Enter Key Name" />
      <label for="savevalue_type" style="color: black"
        >Select a value type:</label
      >
      <select
        name="savevalue_type"
        id="savevalue_type"
        onchange="AdjustCreateKeyInput()"
      >
        <option value="text" selected>Text</option>
        <option value="number">Number</option>
        <option value="boolean">Boolean</option>
      </select>
      <input
        type="text"
        id="keyvalue_input"
        placeholder="Enter Default Value"
      />
      <br />
      <div
        style="
          display: flex;
          justify-content: center;
          padding-top: 8px;
          padding-bottom: 8px;
        "
      >
        <button style="margin-right: 12px" onclick="CreateKeyInput()">
          Enter</button
        ><button style="margin-left: 12px" onclick="CloseCreateKeyPopup()">
          Cancel
        </button>
      </div>
    </div>
  </body>
  <script>
    includeHTML();
    OnLoad();
  </script>
</html>
